{"version":3,"sources":["webpack:///./src/pages/blog.js","webpack:///./src/components/layouts/standalone.js","webpack:///./src/components/lazy-loader.js","webpack:///./src/components/blog-summary.js"],"names":["__webpack_require__","r","__webpack_exports__","d","pageQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_components_layouts_standalone__WEBPACK_IMPORTED_MODULE_1__","_components_blog_summary__WEBPACK_IMPORTED_MODULE_2__","_components_seo__WEBPACK_IMPORTED_MODULE_3__","moment__WEBPACK_IMPORTED_MODULE_4__","moment__WEBPACK_IMPORTED_MODULE_4___default","_components_lazy_loader__WEBPACK_IMPORTED_MODULE_5__","Blog","_ref","data","now","moment","a","createElement","title","description","site","siteMetadata","keywords","commonKeywords","buffer","className","bloglist","edges","filter","_ref2","node","isAfter","frontmatter","date","map","_ref3","idx","key","excerpt","image","url","fields","slug","author","Standalone","children","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","query","render","Fragment","_header__WEBPACK_IMPORTED_MODULE_2__","showTitle","siteTitle","_footer__WEBPACK_IMPORTED_MODULE_4__","_fixed_chat__WEBPACK_IMPORTED_MODULE_5__","_public_static_d_1948935994_json__WEBPACK_IMPORTED_MODULE_0__","LazyLoader","windowGlobal","window","useEffect","lazyloadThrottleTimeout","lazyLoad","clearTimeout","lazyLoadedImages","document","querySelectorAll","setTimeout","scrollTop","pageYOffset","forEach","img","el","rect","getBoundingClientRect","scrollLeft","pageXOffset","documentElement","top","left","offset","innerHeight","src","dataset","classList","remove","length","removeEventListener","addEventListener","moment__WEBPACK_IMPORTED_MODULE_1__","moment__WEBPACK_IMPORTED_MODULE_1___default","BlogSummary","href","data-src","alt","dateTime","itemProp","format","itemScope","itemType","dangerouslySetInnerHTML","__html"],"mappings":"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","file":"component---src-pages-blog-js-f1d138e078b8bb2ca633.js","sourcesContent":["import React from 'react';\nimport Standalone from '../components/layouts/standalone'\nimport { graphql } from 'gatsby'\nimport BlogSummary from '../components/blog-summary'\nimport SEO from '../components/seo'\nimport moment from 'moment'\nimport LazyLoader from '../components/lazy-loader'\n\nconst Blog = ({ data }) => {\n  const now = moment();\n  return (\n  <Standalone>\n    <SEO title={'Expatty | Blog'} description={ data.site.siteMetadata.description } keywords={ data.site.siteMetadata.commonKeywords } />\n    <LazyLoader buffer={ 500 }/>\n    <main>\n      <div className=\"container-fluid blog\">\n        <h1 className=\"title--header\">Patty's Blog</h1>\n        <div className=\"row\">\n          <div className=\"col-md\">\n            {\n              data.bloglist.edges.filter(({ node }) => now.isAfter(node.frontmatter.date)).map(({ node }, idx) => (\n                <BlogSummary\n                  key={ idx }\n                  excerpt={ node.excerpt }\n                  image={ node.frontmatter.image }\n                  url={ node.fields.slug }\n                  title={ node.frontmatter.title }\n                  author={ node.frontmatter.author }\n                  date={ node.frontmatter.date }/>\n              ))\n            }\n          </div>\n        </div>\n      </div>\n    </main>\n  </Standalone>\n)};\n\nexport default Blog;\n\nexport const pageQuery = graphql`\n    query SiteDataForBlog {\n        site {\n            siteMetadata {\n                title\n                slogan\n                description\n                commonKeywords\n            }\n        }\n        bloglist: allMarkdownRemark(sort: {fields: frontmatter___date, order: DESC},\n            filter: {frontmatter: {type: {eq: \"blog\"}}}) {\n            edges {\n                node {\n                    fields {\n                        slug\n                    }\n                    excerpt\n                    frontmatter {\n                        title\n                        image\n                        date\n                        author\n                    }\n                }\n            }\n        }\n    }\n`","import React from 'react';\nimport Header from '../header'\nimport { graphql, StaticQuery } from 'gatsby'\nimport Footer from '../footer'\nimport FixedChat from '../fixed-chat'\n\nconst Standalone = ({children}) => (\n  <StaticQuery query={graphql`\n      query SiteTitleQuery2 {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n  render={data => (\n    <>\n      <Header showTitle={true} siteTitle={data.site.siteMetadata.title} />\n      {children}\n      <Footer />\n      <FixedChat />\n    </>\n    )}\n  />\n);\n\nexport default Standalone;","import React, { useEffect } from 'react'\n\nconst LazyLoader = ({ buffer }) => {\n\n  const windowGlobal = typeof window !== 'undefined' && window;\n\n  const offset = el => {\n    const rect = el.getBoundingClientRect();\n    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    return { top: rect.top + scrollTop, left: rect.left + scrollLeft }\n  }\n\n  useEffect(() => {\n    if (!windowGlobal) {\n      return;\n    }\n    let lazyloadThrottleTimeout;\n    const lazyLoad = () => {\n      if (lazyloadThrottleTimeout) {\n        clearTimeout(lazyloadThrottleTimeout);\n      }\n      const lazyLoadedImages = windowGlobal.document.querySelectorAll('img.lazy');\n      lazyloadThrottleTimeout = setTimeout(() => {\n        const scrollTop = windowGlobal.pageYOffset;\n        lazyLoadedImages.forEach(img => {\n          if (offset(img).top < (windowGlobal.innerHeight + scrollTop + buffer)) {\n            img.src = img.dataset.src;\n            img.classList.remove('lazy');\n          }\n        });\n        if(lazyLoadedImages.length === 0) {\n          windowGlobal.document.removeEventListener('scroll', lazyLoad);\n          windowGlobal.removeEventListener('resize', lazyLoad);\n          windowGlobal.removeEventListener('orientationChange', lazyLoad);\n          windowGlobal.removeEventListener('load', lazyLoad);\n        }\n      }, 20);\n    };\n    windowGlobal.addEventListener('load', lazyLoad);\n    windowGlobal.document.addEventListener('scroll', lazyLoad);\n    windowGlobal.addEventListener('resize', lazyLoad);\n    windowGlobal.addEventListener('orientationChange', lazyLoad);\n  }, []);\n\n  return (\n    <>\n    </>\n  );\n};\n\nexport default LazyLoader;","import React from 'react'\nimport moment from 'moment'\n\nconst BlogSummary = ({ title, excerpt, image, url, author, date }) => (\n  <a className=\"link light\" href={url}>\n    <div className=\"card bg-transparent mb-5\">\n      {image && <img data-src={ image } alt={ title } className=\"lazy card-img-top\"/>}\n      <div className=\"card-body\">\n        <h4 className=\"card-title\">{title}</h4>\n        <p><small>\n            <time className=\"light-primary-colour pt-2\" dateTime={moment(date)} itemProp=\"datePublished\">\n              {moment(date).format('dddd, D MMMM YYYY')}\n            </time>\n            <span itemProp=\"author\" itemScope itemType=\"http://schema.org/Person\">  • <span\n              className=\"light-primary-colour\" itemProp=\"name\">{author}</span>\n                      </span>\n          </small>\n        </p>\n        <div className=\"card-text primary-text-colour\" dangerouslySetInnerHTML={{ __html: excerpt }}/>\n      </div>\n    </div>\n  </a>\n);\n\nexport default BlogSummary;"],"sourceRoot":""}