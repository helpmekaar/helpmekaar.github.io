(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{146:function(e,t,a){"use strict";a.r(t);a(73),a(79),a(319),a(74),a(52),a(250),a(251),a(33),a(158);var r=a(0),n=a.n(r),l=a(159),i=a(174),s=a(243),c=a(187),o=a(602),u=a(603),m=a(585),f=a(604),d=a(598),h=a(599),p=a(605),b=a(606),E=a(592),g=a(593),w=a(189),k=a(192),v=function(e){var t=e.filterObject,a=e.filterStates,l=e.setFilterStates,i=Object(r.useState)(!1),s=i[0],c=i[1];return n.a.createElement(o.a,{className:"mb-3"},n.a.createElement(u.a,{className:"pointer",onClick:function(e){return c(!s)}},n.a.createElement("strong",{className:"primary-colour"},n.a.createElement(w.a,{icon:k.a})," Filters")),n.a.createElement(m.a,{isOpen:s},n.a.createElement(f.a,null,n.a.createElement(d.a,null,Object.keys(t).sort().map(function(e,r){return n.a.createElement(h.a,{sm:6,md:4,lg:3,className:"card-text dark-colour",key:r},n.a.createElement(p.a,{check:!0},n.a.createElement(b.a,{check:!0},n.a.createElement(E.a,{onChange:function(t){return function(e){var t;l(Object.assign({},a,((t={})[e]=!a[e],t)))}(e)},type:"checkbox",value:e,checked:a[e]})," ",e," ",n.a.createElement(g.a,{color:"primary"},n.a.createElement("small",null,t[e])))))})))))},N=a(537);a.d(t,"pageQuery",function(){return y});t.default=function(e){var t=e.data,a="undefined"!=typeof window&&window,o=t.thisCategory.frontmatter,u=o.type,m=o.name,f=o.tag,d=t.site.siteMetadata.commonKeywords,h=t.listings.edges.map(function(e){return e.node}),p=t.categories.edges.map(function(e){return e.node}),b=Object(N.flatten)(h.filter(function(e){return e.frontmatter.tags.indexOf(f)>=0}).map(function(e){return e.frontmatter.tags})).reduce(function(e,t){var a,r;return void 0===e[t]?Object.assign({},e,((a={})[t]=1,a)):Object.assign({},e,((r={})[t]=++e[t],r))},{}),E=Object(r.useState)(Object.keys(b).sort().reduce(function(e,t){var a;return Object.assign({},e,((a={})[t]=!1,a))},b)),g=E[0],w=E[1];return Object(r.useEffect)(function(){g&&(Object.values(g).reduce(function(e,t){return e||t},!1)?a.document.querySelectorAll(".listing").forEach(function(e){e.dataset.tags.split(",").reduce(function(e,t){return e||g[t.trim()]},!1)?e.classList.remove("d-none"):e.classList.add("d-none")}):a.document.querySelectorAll(".listing").forEach(function(e){return e.classList.remove("d-none")}))},[g]),n.a.createElement(l.a,null,n.a.createElement(i.a,{title:"Expatty "+("category"===u?"category":"areas")+" | "+m,description:"Attractions, events, businesses and services in Andalusia, Spain, related to: "+m,keywords:[m].concat(d)}),n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md"},n.a.createElement("main",null,n.a.createElement("h1",{className:"title--header"},m),n.a.createElement(v,{filterObject:b,filterStates:g,setFilterStates:w}),h.filter(function(e){return e.frontmatter.tags.indexOf(f)>=0}).map(function(e,t){var a=e.frontmatter.tags.map(function(e){return p.find(function(t){return t.frontmatter.tag===e})}).filter(function(e){return e}).map(function(e){return{icon:e.frontmatter.icon,name:e.frontmatter.name,path:e.fields.slug}});return n.a.createElement(s.a,{key:t,tags:e.frontmatter.tags,description:e.frontmatter.description,title:e.frontmatter.title,url:e.fields.slug,icons:a})}),n.a.createElement(c.a,{callToAction:"Share this list on:"}))))))};var y="4105432918"},159:function(e,t,a){"use strict";var r=a(160),n=a(0),l=a.n(n),i=a(169),s=a(153),c=a(176),o=a(175);t.a=function(e){var t=e.children;return l.a.createElement(s.StaticQuery,{query:"1948935994",render:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{showTitle:!0,siteTitle:e.site.siteMetadata.title,hideFacebook:!0}),t,l.a.createElement(c.a,null),l.a.createElement(o.a,null))},data:r})}},160:function(e){e.exports={data:{site:{siteMetadata:{title:"expatty"}}}}},187:function(e,t,a){"use strict";var r=a(0),n=a.n(r);t.a=function(e){var t=e.callToAction;return n.a.createElement("div",{className:"share-bar mt-5"},n.a.createElement("h4",{className:"title--header small"},t||"Share this on:"),n.a.createElement("div",{className:"share-buttons"},n.a.createElement("a",{href:"https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ site.baseurl }}{{ page.url }}",onClick:"window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;",title:"Share on Facebook"},n.a.createElement("i",{className:"fa fa-facebook-official share-button"}," facebook")),n.a.createElement("a",{href:"https://twitter.com/intent/tweet?text={{ page.title }}&url={{ site.url }}{{ site.baseurl }}{{ page.url }}",onClick:"window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;",title:"Share on Twitter"},n.a.createElement("i",{className:"fa fa-twitter share-button"}," twitter")),n.a.createElement("a",{href:"https://plus.google.com/share?url={{ site.url }}{{ site.baseurl }}{{ page.url }}",onClick:"window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;",title:"Share on Google+"},n.a.createElement("i",{className:"fa fa-google-plus share-button"}," google")),n.a.createElement("a",{href:"http://pinterest.com/pin/create/button/?url={{ site.url }}{{ site.baseurl }}{{ page.url }}",onClick:"window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;",title:"Share on Pinterest"},n.a.createElement("i",{className:"fa fa-pinterest-p share-button"}," pinterest")),n.a.createElement("a",{href:"http://www.tumblr.com/share/link?url={{ site.url }}{{ site.baseurl }}{{ page.url }}",onClick:"window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;",title:"Share on Tumblr"},n.a.createElement("i",{className:"fa fa-tumblr share-button"}," tumblr")),n.a.createElement("a",{href:"http://www.reddit.com/submit?url={{ site.url }}{{ site.baseurl }}{{ page.url }}",onClick:"window.open(this.href, 'pop-up', 'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;",title:"Share on Reddit"},n.a.createElement("i",{className:"fa fa-reddit-alien share-button"}," reddit")),n.a.createElement("a",{href:"https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ site.baseurl }}{{ page.url }}&title={{ page.title }}&summary={{ page.description }}&source={{ site.title }}",onClick:"window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;",title:"Share on LinkedIn"},n.a.createElement("i",{className:"fa fa-linkedin share-button"}," linkedin")),n.a.createElement("a",{href:"mailto:?subject={{ page.title }}&body=Check out this site {{ site.url }}{{ site.baseurl }}{{ page.url }}",title:"Share via Email"},n.a.createElement("i",{className:"fa fa-envelope share-button"}," email"))))}},243:function(e,t,a){"use strict";a(158);var r=a(0),n=a.n(r),l=a(153),i=a(186);t.a=function(e){var t=e.title,a=e.description,r=e.url,s=e.tags,c=e.icons;return n.a.createElement("div",{className:"row listing","data-tags":s},n.a.createElement("div",{className:"col-md"},n.a.createElement("div",{className:"card mb-3"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title title--header dark small"},n.a.createElement(l.Link,{className:"link",to:r},t)),n.a.createElement("p",{className:"card-text"},a),n.a.createElement("p",null,c&&c.map(function(e,t){return n.a.createElement(i.a,{icon:e.icon,name:e.name,path:e.path,key:t})}))))))}}}]);
//# sourceMappingURL=component---src-components-templates-listing-list-js-885b5656cf83e13bcec3.js.map